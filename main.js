(()=>{"use strict";var t=["ё","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","\\","Del","CapsLock","ф","ы","в","а","п","р","о","л","д","ж","э","Enter","Shift","я","ч","с","м","и","т","ь","б","ю",".","⯅","Shift","Ctrl","Win","Alt","","Alt","⯇","⯆","⯈","Ctrl"],e=["Backquote","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal","Backspace","Tab","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","Delete","CapsLock","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","Enter","ShiftLeft","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","ArrowUp","ShiftRight","ControlLeft","MetaLeft","AltLeft","Space","AltRight","ArrowLeft","ArrowDown","ArrowRight","ControlRight"],n=["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","q","w","e","r","t","y","u","i","o","p","[","]","\\","Del","CapsLock","a","s","d","f","g","h","j","k","l",";","'","Enter","Shift","z","x","c","v","b","n","m",",",".","/","⯅","Shift","Ctrl","Win","Alt","","Alt","⯇","⯆","⯈","Ctrl"],o={Backquote:"~",Digit1:"!",Digit2:"@",Digit3:"#",Digit4:"$",Digit5:"%",Digit6:"^",Digit7:"&",Digit8:"*",Digit9:"(",Digit0:")",Minus:"_",Equal:"+",BracketLeft:"{",BracketRight:"}",Backslash:"|",Semicolon:":",Quote:'"',Comma:"<",Period:">",Slash:"?"},i={Digit1:"!",Digit2:'"',Digit3:"№",Digit4:";",Digit5:"%",Digit6:":",Digit7:"?",Digit8:"*",Digit9:"(",Digit0:")",Minus:"_",Equal:"+",Backslash:"/",Slash:","};document.querySelector(".body").insertAdjacentHTML("afterbegin",'<header class="header">\n    <h1 class="header__caption">RSS Виртуальная клавиатура</h1>\n  </header>\n  <main class="main">\n    <section class="text">\n      <textarea class="textarea"></textarea>\n    </section>\n    <section class="virtual-keyboard">\n      <div class="keyboard">\n        <ul class="keyboard__line">\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button button-content-shift"></li>\n          <li class="keyboard__button button-content-shift"></li>\n          <li class="keyboard__button button-content-shift"></li>\n          <li class="keyboard__button button-content-shift"></li>\n          <li class="keyboard__button button-content-shift"></li>\n          <li class="keyboard__button button-content-shift"></li>\n          <li class="keyboard__button button-content-shift"></li>\n          <li class="keyboard__button button-content-shift"></li>\n          <li class="keyboard__button button-content-shift"></li>\n          <li class="keyboard__button button-content-shift"></li>\n          <li class="keyboard__button button-content-shift"></li>\n          <li class="keyboard__button button-content-shift"></li>\n          <li class="keyboard__button keyboard__button_backspace not-uppercase"></li>\n          <li class="keyboard__button keyboard__button_tab not-uppercase"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button button-content-shift"></li>\n          <li class="keyboard__button button-content-shift"></li>\n          <li class="keyboard__button button-content-shift"></li>\n          <li class="keyboard__button not-uppercase"></li>\n          <li class="keyboard__button keyboard__button_caps not-uppercase"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button button-content-shift"></li>\n          <li class="keyboard__button button-content-shift"></li>\n          <li class="keyboard__button keyboard__button_enter not-uppercase"></li>\n          <li class="keyboard__button keyboard__button_caps not-uppercase"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button"></li>\n          <li class="keyboard__button button-content-shift"></li>\n          <li class="keyboard__button button-content-shift"></li>\n          <li class="keyboard__button button-content-shift"></li>\n          <li class="keyboard__button not-uppercase"></li>\n          <li class="keyboard__button keyboard__button_enter not-uppercase"></li>\n          <li class="keyboard__button not-uppercase"></li>\n          <li class="keyboard__button not-uppercase"></li>\n          <li class="keyboard__button not-uppercase"></li>\n          <li class="keyboard__button keyboard__button_space not-uppercase"></li>\n          <li class="keyboard__button not-uppercase"></li>\n          <li class="keyboard__button not-uppercase"></li>\n          <li class="keyboard__button not-uppercase"></li>\n          <li class="keyboard__button not-uppercase"></li>\n          <li class="keyboard__button not-uppercase"></li>\n        </ul>\n      </div>\n    </section>\n  </main>\n\n  <footer>\n\n  </footer>');var a=document.querySelectorAll(".keyboard__button"),l=document.querySelector(".textarea");function s(t,e,n){t.forEach((function(t,o){t.textContent=e[o],t.setAttribute("id",n[o])}))}function c(t){t.forEach((function(t){t.classList.contains("button-content-shift")&&("eng"===localStorage.getItem("locale")?t.textContent=o[t.id]?o[t.id]:t.textContent:t.textContent=i[t.id]?i[t.id]:t.textContent)}))}var r=function(){localStorage.getItem("locale")?"ru"===localStorage.getItem("locale")?s(a,t,e):s(a,n,e):(localStorage.setItem("locale","ru"),s(a,t,e))};r();var b=!1,u=!1;document.addEventListener("keydown",(function(t){return _(a,t)}));var _=function(o,i){o.forEach((function(o){o.id===i.code&&(o.classList.add("keyboard__button_active"),"Tab"===i.code?(i.preventDefault(),l.textContent+="\t"):"Backspace"===i.code?l.textContent=l.textContent.slice(0,-1):"Enter"===i.code?l.textContent+="\n":"ShiftLeft"===i.code||"ShiftRight"===i.code?(d(a),c(a)):"Control"===i.key&&u||"Alt"===i.key&&b?(i.preventDefault(),"ru"===localStorage.getItem("locale")?(s(a,n,e),localStorage.setItem("locale","eng")):(s(a,t,e),localStorage.setItem("locale","ru"))):"Control"===i.key?(i.preventDefault(),b=!0):"Alt"===i.key?(i.preventDefault(),u=!0):"Delete"===i.key||(l.textContent+=i.key))}))};function d(t){t.forEach((function(t){t.classList.contains("not-uppercase")||(t.textContent=t.textContent.toUpperCase())}))}function y(t){t.forEach((function(t){t.textContent=t.textContent.toLowerCase()}))}a.forEach((function(t){t.addEventListener("mouseup",(function(e){t.classList.remove("keyboard__button_active"),"CapsLock"===e.target.id?d(a):"ShiftLeft"!==e.target.id&&"ShiftRight"!==e.target.id||(y(a),r())}))})),a.forEach((function(t){t.addEventListener("mousedown",(function(e){t.classList.add("keyboard__button_active"),"Backspace"===e.target.id?l.textContent=l.textContent.slice(0,-1):"ShiftLeft"===e.target.id||"ShiftRight"===e.target.id?(d(a),c(a)):"Delete"===e.target.id||("Tab"===e.target.id?l.textContent+="\t":"Enter"===e.target.id?l.textContent+="\n":"ControlLeft"===e.target.id||"AltLeft"===e.target.id||"ControlRight"===e.target.id||"AltRight"===e.target.id||("MetaLeft"===e.target.id?e.preventDefault():"Space"===e.target.id?l.textContent+=" ":l.textContent+=e.target.innerText))}))})),document.addEventListener("keyup",(function(t){for(var e=0;e<a.length;e++)if(a[e].id===t.code){a[e].classList.remove("keyboard__button_active"),"Delete"===t.code||("CapsLock"===t.code?!0===t.getModifierState(t.key)?d(a):y(a):"ShiftLeft"===t.code||"ShiftRight"===t.code?(y(a),r()):"Alt"===t.key?u=!1:"Control"===t.key?b=!1:"MetaLeft"===t.code&&t.preventDefault());break}}))})();